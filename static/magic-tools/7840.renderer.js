"use strict";(self.webpackChunkmagic_tools=self.webpackChunkmagic_tools||[]).push([[7840,9909],{69909:(e,t,n)=>{n.r(t),n.d(t,{commaPositionList:()=>r,indentStyleList:()=>a,keywordCaseList:()=>s,languageList:()=>l,logicalOperatorNewlineList:()=>o});const l=["mysql","mariadb","postgresql","spark","sqlite","hive","sql","db2","bigquery","n1ql","plsql","redshift","trino","transactsql","singlestoredb","snowflake"],s=["preserve","upper","lower"],a=["standard","tabularLeft","tabularRight"],r=["before","after","tabular"],o=["before","after"]},30492:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var l=n(85893),s=n(41249),a=n(54604),r=n(19650),o=n(17180),i=n(15915),u=n(65460),c=n(67294),d=n(5929),g=n(85710),f=n(13377),p=n(69909),h=(n(70024),n(20637));const{TextArea:y}=s.default,w=()=>{const e=()=>window.innerHeight-380+"px";let t;const[n,s]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[m,b]=(0,c.useState)(""),[v,C]=a.ZP.useMessage(),[k,S]=(0,c.useState)("mysql"),[j,q]=(0,c.useState)("upper"),[L,T]=(0,c.useState)("standard"),[Z,D]=(0,c.useState)(e());window.addEventListener("resize",(0,d.Ds)((()=>{D(e())}),100));const R=(e,t)=>{if(""===(e=e.trim()))return b(""),void x("");try{const n=(0,f.WU)(e,t);b(n),x(h.Z.highlight(n,{language:"sql"}).value)}catch(e){console.log(e)}},E=(e="",t=null)=>({language:"language"==e?t:k,keywordCase:"keywordCase"==e?t:j,indentStyle:"indentStyle"==e?t:L}),P=e=>{if(0===e.length)return;if(!/.*\.sql$/.test(e[0].name))return;const t=new FileReader;t.onerror=e=>{console.log(e)},t.onload=()=>{s(t.result),R(t.result,E())},t.readAsText(e[0])};return(0,l.jsxs)("div",{children:[C,(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(o.ZP,{onClick:()=>{b(""),s(""),x("")},style:{backgroundColor:"#dc3545",color:"#fff"},children:"清除"}),(0,l.jsx)("label",{children:"语言类型:"}),(0,l.jsx)(i.Z,{value:k,style:{width:120},onChange:e=>{S(e),R(n,E("language",e))},options:(0,g.c)(p.languageList)}),(0,l.jsx)("label",{children:"关键字格式:"}),(0,l.jsx)(i.Z,{value:j,style:{width:100},onChange:e=>{q(e),R(n,E("keywordCase",e))},options:(0,g.c)(p.keywordCaseList)}),(0,l.jsx)("label",{children:"对齐方式:"}),(0,l.jsx)(i.Z,{value:L,style:{width:100},onChange:e=>{T(e),R(n,E("indentStyle",e))},options:(0,g.c)(p.indentStyleList)}),(0,l.jsx)(o.ZP,{onClick:()=>{t?.click()},style:{backgroundColor:"#007bff",color:"#fff"},children:"打开 SQL 文件"}),(0,l.jsx)("input",{onChange:async e=>{const t=e.target.files||[];P(t)},ref:e=>t=e,type:"file",id:"fileInput",style:{display:"none"},accept:".sql"})]}),(0,l.jsx)(y,{onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault(),P(e.dataTransfer.files)},style:{margin:"12px 0 5px 0"},onChange:e=>{s(e.target.value),R(e.target.value,E())},value:n,placeholder:"输入需要格式化的 SQL 语句 或 拖拽 .sql 文件到框内",autoSize:{minRows:5,maxRows:5}}),(0,l.jsx)(u.Z,{dashed:!0}),(0,l.jsx)("div",{style:{height:Z},title:"点击复制内容到粘贴板",onClick:e=>{""!==m.trim()&&((0,d.TE)(m),v.success("复制到粘贴板成功！！！"))},className:"code-output",children:(0,l.jsx)("pre",{dangerouslySetInnerHTML:{__html:w}})})]})}},85710:(e,t,n)=>{function l(e){return e.map(((e,t)=>({label:e,value:e})))}n.d(t,{c:()=>l})},5929:(e,t,n)=>{async function l(e){return"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e)}function s(e,t){let n=null,l=null,s=null;function a(){s=+new Date,s-n<t?l=setTimeout(a,t):(e(),l=null),n=s}return function(){n=+new Date,l||(l=setTimeout(a,t))}}function a(e,t=4,n=" "){return e.replace(new RegExp("(.{"+t+"})","g"),"$1"+n)}n.d(t,{Ds:()=>s,Jg:()=>a,TE:()=>l})}}]);
//# sourceMappingURL=7840.renderer.js.map