"use strict";(self.webpackChunkmagic_tools=self.webpackChunkmagic_tools||[]).push([[5233,170],{85233:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(85893),l=n(41249),o=n(84466),s=n(19650),a=n(17180),i=n(67294),c=n(5929),u=n(67932),f=n(20170);const{TextArea:d}=l.default,p=()=>{let e;const[t,n]=(0,i.useState)(""),[p,g]=(0,i.useState)(0),[h,x]=(0,i.useState)(""),[m,C]=(0,i.useState)(""),[j,v]=(0,i.useState)(""),[y,k]=(0,i.useState)(""),[b,w]=o.ZP.useMessage(),S=e=>{(0,c.TE)(e),b.success("选取内容已复制到粘贴板!!!")},Z=e=>{n(e),g((0,f.calcLineCount)(e))};return(0,r.jsxs)("div",{children:[w,(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(a.ZP,{onClick:()=>{g(0),n("")},style:{backgroundColor:"#dc3545",color:"#fff"},children:"清除"}),"|",(0,r.jsx)(a.ZP,{onClick:()=>{let e=(0,f.removeEmptyLine)(t);n(e),g((0,f.calcLineCount)(e))},style:{backgroundColor:"#28a745",color:"#fff"},children:"去除空行"}),"|",(0,r.jsx)(l.default,{status:m,style:{width:"80px"},placeholder:"开始行数",value:h,onChange:e=>{const t=parseInt(e.target.value);if("NaN"===t.toString())return x("");C(t>=p?"error":""),x(t.toString())}}),"~",(0,r.jsx)(l.default,{status:y,style:{width:"80px"},placeholder:"结束行数",value:j,onChange:e=>{const t=parseInt(e.target.value);if("NaN"===t.toString())return v("");t>p||""!==h&&t<=parseInt(h)?k("error"):k(""),v(t.toString())}}),(0,r.jsx)(a.ZP,{onClick:()=>{if(""===t.trim())return;if(""===h&&""===j)return S(t);const e=""===h?1:parseInt(h),n=""===j?p:parseInt(j),r=t.split("\n");let l=[],o=e-1;for(;o<n;)l.push(r[o]),o++;S(l.join("\n"))},style:{backgroundColor:"#007bff",color:"#fff"},children:"提取内容"}),"|",(0,r.jsx)(a.ZP,{onClick:()=>{e?.click()},style:{backgroundColor:"#007bff",color:"#fff"},children:"打开文件"}),(0,r.jsx)("input",{onChange:async e=>{const t=e.target.files||[];(0,u.Z)(t,Z)},ref:t=>e=t,type:"file",id:"fileInput",style:{display:"none"}}),"|",(0,r.jsxs)("span",{children:[(0,r.jsx)("label",{children:"行数:"})," ",p]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("label",{children:"字符数:"})," ",t.length]})]}),(0,r.jsx)(d,{style:{margin:"12px 0 5px 0"},onChange:e=>{Z(e.target.value)},value:t,placeholder:"输入需要统计的内容 或 拖拽文件到框内",autoSize:{minRows:26,maxRows:26},onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault(),(0,u.Z)(e.dataTransfer.files,Z)}})]})}},20170:(e,t,n)=>{n.r(t),n.d(t,{calcLineCount:()=>r,removeEmptyLine:()=>l});const r=e=>{const t=e.split("\n"),n=t.length;return 1===n&&""===t[0]?0:n},l=e=>{if(""===e.trim())return"";let t=[];return e.split("\n").map((e=>{""!==e.trim()&&t.push(e)})),t.join("\n")}},67932:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t)=>{if(0===e.length)return;const n=new FileReader;n.onerror=e=>{console.log(e)},n.onload=()=>{t(n.result)},n.readAsText(e[0])}},5929:(e,t,n)=>{async function r(e){return"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e)}function l(e,t){let n=null,r=null,l=null;function o(){l=+new Date,l-n<t?r=setTimeout(o,t):(e(),r=null),n=l}return function(){n=+new Date,r||(r=setTimeout(o,t))}}function o(e,t=4,n=" "){return e.replace(new RegExp("(.{"+t+"})","g"),"$1"+n)}n.d(t,{Ds:()=>l,Jg:()=>o,TE:()=>r})}}]);
//# sourceMappingURL=5233.renderer.js.map