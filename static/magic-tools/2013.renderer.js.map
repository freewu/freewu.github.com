{"version":3,"file":"2013.renderer.js","mappings":"iJACA,MAAMA,EAAS,IAAIC,MAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEhEC,EAAc,IAAID,MAAM,GAAI,IAAK,IAAK,KAEtCE,EAAa,IAAIF,MAAM,GAAI,IAAK,IAAK,KAErCG,EAAa,IAAIH,MAAM,IAAK,IAAK,IAAK,KAS/BI,EAAmBC,IAE9B,IAAIC,EAEAC,EAIAC,EAFAC,EAAa,GAGjB,GAAa,IAATJ,EAAa,MAAO,GAGxB,MAAMK,EAAIC,WAAWN,GACrB,GAAIK,GAhBS,KAkBX,MAAO,GAET,GAAS,GAALA,EAEF,OADAD,EAAaV,EAAO,GAAPA,KACNU,EAeT,IAV2B,IAD3BJ,EAAQA,EAAMO,YACJC,QAAQ,MAChBP,EAAaD,EACbE,EAAa,KAEbC,EAAQH,EAAMS,MAAM,KACpBR,EAAaE,EAAM,GACnBD,EAAaC,EAAM,GAAGO,OAAO,EAAG,IAI9BC,SAASV,EAAY,IAAM,EAAG,CAChC,IAAIW,EAAY,EACZC,EAASZ,EAAWa,OACxB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAQE,IAAK,CAC/B,IAAIC,EAAIf,EAAWS,OAAOK,EAAG,GACzBE,EAAIJ,EAASE,EAAI,EACjBG,EAAID,EAAI,EACRZ,EAAIY,EAAI,EACH,KAALD,EACFJ,KAEIA,EAAY,IACdR,GAAcV,EAAO,IAGvBkB,EAAY,EACZR,GAAcV,EAAOiB,SAASK,IAAMpB,EAAYS,IAEzC,GAALA,GAAUO,EAAY,IACxBR,GAAcP,EAAWqB,G,CAG7Bd,GA7Dc,G,CAiEhB,GAAkB,IAAdF,EAAkB,CACpB,IAAIiB,EAASjB,EAAWY,OACxB,IAAK,IAAIC,EAAI,EAAGA,EAAII,EAAQJ,IAAK,CAC/B,IAAIC,EAAId,EAAWQ,OAAOK,EAAG,GACpB,KAALC,IACFZ,GAAcV,EAAO0B,OAAOJ,IAAMlB,EAAWiB,G,EASnD,MALkB,IAAdX,EACFA,GAAcV,EAAO,GAAPA,KACS,IAAdQ,IACTE,GA/Ec,KAiFTA,CAAU,C","sources":["webpack://magic-tools/./src/renderer/App/RMBConvert/lib.ts"],"sourcesContent":["// 汉字的数字\nconst cnNums = new Array('零', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖');\n// 基本单位\nconst cnIntRadice = new Array('', '拾', '佰', '仟');\n// 对应整数部分扩展单位\nconst cnIntUnits = new Array('', '万', '亿', '兆');\n// 对应小数部分单位\nconst cnDecUnits = new Array('角', '分', '毫', '厘');\n// 整数金额时后面跟的字符\nconst cnInteger = '整';\n// 整型完以后的单位\nconst cnIntLast = '元';\n// 最大处理的数字\nconst maxNum = 999999999999999.9999;\n\n// 转换方法\nexport const convertCurrency = (money :string) :string => {\n  // 金额整数部分\n  let integerNum;\n  // 金额小数部分\n  let decimalNum;\n  // 输出的中文金额字符串\n  let chineseStr = '';\n  // 分离金额后用的数组，预定义\n  let parts;\n  if (money == '') return '';\n\n\n  const m = parseFloat(money);\n  if (m >= maxNum) {\n    // 超出最大处理数字\n    return '';\n  }\n  if (m == 0) {\n    chineseStr = cnNums[0] + cnIntLast + cnInteger;\n    return chineseStr;\n  }\n\n  // 转换为字符串\n  money = money.toString();\n  if (money.indexOf('.') == -1) {\n    integerNum = money;\n    decimalNum = '';\n  } else {\n    parts = money.split('.');\n    integerNum = parts[0];\n    decimalNum = parts[1].substr(0, 4);\n  }\n\n  // 获取整型部分转换\n  if (parseInt(integerNum, 10) > 0) {\n    let zeroCount = 0;\n    let IntLen = integerNum.length;\n    for (let i = 0; i < IntLen; i++) {\n      let n = integerNum.substr(i, 1);\n      let p = IntLen - i - 1;\n      let q = p / 4;\n      let m = p % 4;\n      if (n == '0') {\n        zeroCount++;\n      } else {\n        if (zeroCount > 0) {\n          chineseStr += cnNums[0];\n        }\n        //归零\n        zeroCount = 0;\n        chineseStr += cnNums[parseInt(n)] + cnIntRadice[m];\n      }\n      if (m == 0 && zeroCount < 4) {\n        chineseStr += cnIntUnits[q];\n      }\n    }\n    chineseStr += cnIntLast;\n  }\n\n  // 小数部分\n  if (decimalNum != '') {\n    let decLen = decimalNum.length;\n    for (let i = 0; i < decLen; i++) {\n      let n = decimalNum.substr(i, 1);\n      if (n != '0') {\n        chineseStr += cnNums[Number(n)] + cnDecUnits[i];\n      }\n    }\n  }\n  if (chineseStr == '') {\n    chineseStr += cnNums[0] + cnIntLast + cnInteger;\n  } else if (decimalNum == '') {\n    chineseStr += cnInteger;\n  }\n  return chineseStr;\n}"],"names":["cnNums","Array","cnIntRadice","cnIntUnits","cnDecUnits","convertCurrency","money","integerNum","decimalNum","parts","chineseStr","m","parseFloat","toString","indexOf","split","substr","parseInt","zeroCount","IntLen","length","i","n","p","q","decLen","Number"],"sourceRoot":""}