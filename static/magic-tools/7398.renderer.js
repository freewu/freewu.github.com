"use strict";(self.webpackChunkmagic_tools=self.webpackChunkmagic_tools||[]).push([[7398,170],{54549:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(1413),l=n(67294);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};var a=n(30076),s=function(e,t){return l.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};const c=l.forwardRef(s)},85233:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(85893),l=n(41249),o=n(54604),a=n(19650),s=n(17180),c=n(67294),i=n(5929),u=n(67932),f=n(20170);const{TextArea:d}=l.default,p=()=>{let e;const[t,n]=(0,c.useState)(""),[p,g]=(0,c.useState)(0),[h,x]=(0,c.useState)(""),[m,v]=(0,c.useState)(""),[C,j]=(0,c.useState)(""),[y,w]=(0,c.useState)(""),[b,k]=o.ZP.useMessage(),Z=e=>{(0,i.TE)(e),b.success("选取内容已复制到粘贴板!!!")},S=e=>{n(e),g((0,f.calcLineCount)(e))};return(0,r.jsxs)("div",{children:[k,(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.ZP,{onClick:()=>{g(0),n("")},style:{backgroundColor:"#dc3545",color:"#fff"},children:"清除"}),"|",(0,r.jsx)(s.ZP,{onClick:()=>{let e=(0,f.removeEmptyLine)(t);n(e),g((0,f.calcLineCount)(e))},style:{backgroundColor:"#28a745",color:"#fff"},children:"去除空行"}),"|",(0,r.jsx)(l.default,{status:m,style:{width:"80px"},placeholder:"开始行数",value:h,onChange:e=>{const t=parseInt(e.target.value);if("NaN"===t.toString())return x("");v(t>=p?"error":""),x(t.toString())}}),"~",(0,r.jsx)(l.default,{status:y,style:{width:"80px"},placeholder:"结束行数",value:C,onChange:e=>{const t=parseInt(e.target.value);if("NaN"===t.toString())return j("");t>p||""!==h&&t<=parseInt(h)?w("error"):w(""),j(t.toString())}}),(0,r.jsx)(s.ZP,{onClick:()=>{if(""===t.trim())return;if(""===h&&""===C)return Z(t);const e=""===h?1:parseInt(h),n=""===C?p:parseInt(C),r=t.split("\n");let l=[],o=e-1;for(;o<n;)l.push(r[o]),o++;Z(l.join("\n"))},style:{backgroundColor:"#007bff",color:"#fff"},children:"提取内容"}),"|",(0,r.jsx)(s.ZP,{onClick:()=>{e?.click()},style:{backgroundColor:"#007bff",color:"#fff"},children:"打开文件"}),(0,r.jsx)("input",{onChange:async e=>{const t=e.target.files||[];(0,u.Z)(t,S)},ref:t=>e=t,type:"file",id:"fileInput",style:{display:"none"}}),"|",(0,r.jsxs)("span",{children:[(0,r.jsx)("label",{children:"行数:"})," ",p]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("label",{children:"字符数:"})," ",t.length]})]}),(0,r.jsx)(d,{style:{margin:"12px 0 5px 0"},onChange:e=>{S(e.target.value)},value:t,placeholder:"输入需要统计的内容 或 拖拽文件到框内",autoSize:{minRows:26,maxRows:26},onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault(),(0,u.Z)(e.dataTransfer.files,S)}})]})}},20170:(e,t,n)=>{n.r(t),n.d(t,{calcLineCount:()=>r,removeEmptyLine:()=>l});const r=e=>{const t=e.split("\n"),n=t.length;return 1===n&&""===t[0]?0:n},l=e=>{if(""===e.trim())return"";let t=[];return e.split("\n").map((e=>{""!==e.trim()&&t.push(e)})),t.join("\n")}},67932:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t)=>{if(0===e.length)return;const n=new FileReader;n.onerror=e=>{console.log(e)},n.onload=()=>{t(n.result)},n.readAsText(e[0])}},5929:(e,t,n)=>{async function r(e){return"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e)}function l(e,t){let n=null,r=null,l=null;function o(){l=+new Date,l-n<t?r=setTimeout(o,t):(e(),r=null),n=l}return function(){n=+new Date,r||(r=setTimeout(o,t))}}function o(e,t=4,n=" "){return e.replace(new RegExp("(.{"+t+"})","g"),"$1"+n)}n.d(t,{Ds:()=>l,Jg:()=>o,TE:()=>r})}}]);
//# sourceMappingURL=7398.renderer.js.map