"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5233,170],{5233:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(5893),l=n(1249),s=n(4604),o=n(9650),a=n(7180),i=n(7294),c=n(5929),u=n(170);const{TextArea:f}=l.default,d=()=>{let e;const[t,n]=(0,i.useState)(""),[d,p]=(0,i.useState)(0),[g,h]=(0,i.useState)(""),[x,C]=(0,i.useState)(""),[j,m]=(0,i.useState)(""),[y,k]=(0,i.useState)(""),[v,b]=s.ZP.useMessage(),w=e=>{(0,c.TE)(e),v.success("选取内容已复制到粘贴板!!!")};return(0,r.jsxs)("div",{children:[b,(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("label",{children:"行数:"})," ",d]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("label",{children:"字符数:"})," ",t.length]}),"|",(0,r.jsx)(a.ZP,{onClick:()=>{p(0),n("")},style:{backgroundColor:"#dc3545",color:"#fff"},children:"清除"}),"|",(0,r.jsx)(a.ZP,{onClick:()=>{let e=(0,u.removeEmptyLine)(t);n(e),p((0,u.calcLineCount)(e))},style:{backgroundColor:"#28a745",color:"#fff"},children:"去除空行"}),"|",(0,r.jsx)(l.default,{status:x,style:{width:"80px"},placeholder:"开始行数",value:g,onChange:e=>{const t=parseInt(e.target.value);if("NaN"===t.toString())return h("");C(t>=d?"error":""),h(t.toString())}}),"~",(0,r.jsx)(l.default,{status:y,style:{width:"80px"},placeholder:"结束行数",value:j,onChange:e=>{const t=parseInt(e.target.value);if("NaN"===t.toString())return m("");t>d||""!==g&&t<=parseInt(g)?k("error"):k(""),m(t.toString())}}),(0,r.jsx)(a.ZP,{onClick:()=>{if(""===t.trim())return;if(""===g&&""===j)return w(t);const e=""===g?1:parseInt(g),n=""===j?d:parseInt(j),r=t.split("\n");let l=[],s=e-1;for(;s<n;)l.push(r[s]),s++;w(l.join("\n"))},style:{backgroundColor:"#007bff",color:"#fff"},children:"提取内容"}),"|",(0,r.jsx)(a.ZP,{onClick:()=>{e?.click()},style:{backgroundColor:"#007bff",color:"#fff"},children:"打开文件"}),(0,r.jsx)("input",{onChange:async e=>{const t=e.target.files||[];if(0===t.length)return;const r=new FileReader;r.onerror=e=>{console.log(e)},r.onload=()=>{n(r.result),p((0,u.calcLineCount)(r.result))},r.readAsText(t[0])},ref:t=>e=t,type:"file",id:"fileInput",style:{display:"none"}})]}),(0,r.jsx)(f,{style:{margin:"12px 0 5px 0"},onChange:e=>{n(e.target.value),p((0,u.calcLineCount)(e.target.value))},value:t,placeholder:"输入需要统计的内容",autoSize:{minRows:26,maxRows:26}})]})}},170:(e,t,n)=>{n.r(t),n.d(t,{calcLineCount:()=>r,removeEmptyLine:()=>l});const r=e=>{const t=e.split("\n"),n=t.length;return 1===n&&""===t[0]?0:n},l=e=>{if(""===e.trim())return"";let t=[];return e.split("\n").map((e=>{""!==e.trim()&&t.push(e)})),t.join("\n")}},5929:(e,t,n)=>{async function r(e){return"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e)}function l(e,t){let n=null,r=null,l=null;function s(){l=+new Date,l-n<t?r=setTimeout(s,t):(e(),r=null),n=l}return function(){n=+new Date,r||(r=setTimeout(s,t))}}function s(e,t=4,n=" "){return e.replace(new RegExp("(.{"+t+"})","g"),"$1"+n)}n.d(t,{Ds:()=>l,Jg:()=>s,TE:()=>r})}}]);
//# sourceMappingURL=5233.renderer.js.map