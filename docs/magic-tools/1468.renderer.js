"use strict";(self.webpackChunkmagic_tools=self.webpackChunkmagic_tools||[]).push([[1468,7696,589],{38819:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(1413),r=o(67294);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var i=o(30076),l=function(e,t){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:a}))};const s=r.forwardRef(l)},43061:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(1413),r=o(67294);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};var i=o(30076),l=function(e,t){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:a}))};const s=r.forwardRef(l)},68855:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(1413),r=o(67294);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var i=o(30076),l=function(e,t){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:a}))};const s=r.forwardRef(l)},40847:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(1413),r=o(67294);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var i=o(30076),l=function(e,t){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:a}))};const s=r.forwardRef(l)},5467:(e,t,o)=>{function n(e){return Object.keys(e).reduce(((t,o)=>(!o.startsWith("data-")&&!o.startsWith("aria-")&&"role"!==o||o.startsWith("data-__")||(t[o]=e[o]),t)),{})}o.d(t,{Z:()=>n})},91468:(e,t,o)=>{o.r(t),o.d(t,{default:()=>_});var n=o(85893),r=o(41249),a=o(19650),i=o(17180),l=o(65460),s=o(42507),c=o(38819),d=o(43061),g=o(54549),m=o(68855),p=o(40847),u=o(94184),h=o.n(u),f=o(5461),v=o(67294),x=o(53124),b=o(5467),$=o(96159),w=o(15671),S=o(43144),y=o(79340),C=o(98557);const E=function(e){(0,y.Z)(o,e);var t=(0,C.Z)(o);function o(){var e;return(0,w.Z)(this,o),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,S.Z)(o,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){const{message:e,description:t,children:o}=this.props,{error:n,info:r}=this.state,a=r&&r.componentStack?r.componentStack:null,i=void 0===e?(n||"").toString():e,l=void 0===t?a:t;return n?v.createElement(D,{type:"error",message:i,description:v.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},l)}):o}}]),o}(v.Component);var Z=o(67968),I=o(45503),j=o(14747);const k=(e,t,o,n,r)=>({backgroundColor:e,border:`${n.lineWidth}px ${n.lineType} ${t}`,[`${r}-icon`]:{color:o}}),z=e=>{const{componentCls:t,motionDurationSlow:o,marginXS:n,marginSM:r,fontSize:a,fontSizeLG:i,lineHeight:l,borderRadiusLG:s,motionEaseInOutCirc:c,alertIconSizeLG:d,colorText:g,paddingContentVerticalSM:m,alertPaddingHorizontal:p,paddingMD:u,paddingContentHorizontalLG:h}=e;return{[t]:Object.assign(Object.assign({},(0,j.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:`${m}px ${p}px`,wordWrap:"break-word",borderRadius:s,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:n,lineHeight:0},"&-description":{display:"none",fontSize:a,lineHeight:l},"&-message":{color:g},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${c}, opacity ${o} ${c},\n        padding-top ${o} ${c}, padding-bottom ${o} ${c},\n        margin-bottom ${o} ${c}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",paddingInline:h,paddingBlock:u,[`${t}-icon`]:{marginInlineEnd:r,fontSize:d,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:n,color:g,fontSize:i},[`${t}-description`]:{display:"block"}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},M=e=>{const{componentCls:t,colorSuccess:o,colorSuccessBorder:n,colorSuccessBg:r,colorWarning:a,colorWarningBorder:i,colorWarningBg:l,colorError:s,colorErrorBorder:c,colorErrorBg:d,colorInfo:g,colorInfoBorder:m,colorInfoBg:p}=e;return{[t]:{"&-success":k(r,n,o,e,t),"&-info":k(p,m,g,e,t),"&-warning":k(l,i,a,e,t),"&-error":Object.assign(Object.assign({},k(d,c,s,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},N=e=>{const{componentCls:t,iconCls:o,motionDurationMid:n,marginXS:r,fontSizeIcon:a,colorIcon:i,colorIconHover:l}=e;return{[t]:{"&-action":{marginInlineStart:r},[`${t}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:a,lineHeight:`${a}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:i,transition:`color ${n}`,"&:hover":{color:l}}},"&-close-text":{color:i,transition:`color ${n}`,"&:hover":{color:l}}}}},O=e=>[z(e),M(e),N(e)],B=(0,Z.Z)("Alert",(e=>{const{fontSizeHeading3:t}=e,o=(0,I.TS)(e,{alertIconSizeLG:t,alertPaddingHorizontal:12});return[O(o)]}));var L=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o};const H={success:c.Z,info:p.Z,error:d.Z,warning:m.Z},T=e=>{const{icon:t,prefixCls:o,type:n}=e,r=H[n]||null;return t?(0,$.wm)(t,v.createElement("span",{className:`${o}-icon`},t),(()=>({className:h()(`${o}-icon`,{[t.props.className]:t.props.className})}))):v.createElement(r,{className:`${o}-icon`})},R=e=>{const{isClosable:t,closeText:o,prefixCls:n,closeIcon:r,handleClose:a}=e;return t?v.createElement("button",{type:"button",onClick:a,className:`${n}-close-icon`,tabIndex:0},o?v.createElement("span",{className:`${n}-close-text`},o):r):null},W=e=>{var{description:t,prefixCls:o,message:n,banner:r,className:a,rootClassName:i,style:l,onMouseEnter:s,onMouseLeave:c,onClick:d,afterClose:m,showIcon:p,closable:u,closeText:$,closeIcon:w=v.createElement(g.Z,null),action:S}=e,y=L(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]);const[C,E]=v.useState(!1),Z=v.useRef(),{getPrefixCls:I,direction:j}=v.useContext(x.E_),k=I("alert",o),[z,M]=B(k),N=e=>{var t;E(!0),null===(t=y.onClose)||void 0===t||t.call(y,e)},O=!!$||u,H=(()=>{const{type:e}=y;return void 0!==e?e:r?"warning":"info"})(),W=!(!r||void 0!==p)||p,D=h()(k,`${k}-${H}`,{[`${k}-with-description`]:!!t,[`${k}-no-icon`]:!W,[`${k}-banner`]:!!r,[`${k}-rtl`]:"rtl"===j},a,i,M),A=(0,b.Z)(y);return z(v.createElement(f.ZP,{visible:!C,motionName:`${k}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:m},(e=>{let{className:o,style:r}=e;return v.createElement("div",Object.assign({ref:Z,"data-show":!C,className:h()(D,o),style:Object.assign(Object.assign({},l),r),onMouseEnter:s,onMouseLeave:c,onClick:d,role:"alert"},A),W?v.createElement(T,{description:t,icon:y.icon,prefixCls:k,type:H}):null,v.createElement("div",{className:`${k}-content`},n?v.createElement("div",{className:`${k}-message`},n):null,t?v.createElement("div",{className:`${k}-description`},t):null),S?v.createElement("div",{className:`${k}-action`},S):null,v.createElement(R,{isClosable:!!O,closeText:$,prefixCls:k,closeIcon:w,handleClose:N}))})))};W.ErrorBoundary=E;const D=W;var A=o(60589),P=o(47696);const{TextArea:G}=r.default,_=()=>{const e=()=>window.innerWidth-300,[t,o]=(0,v.useState)(!1),[r,c]=(0,v.useState)(""),[d,g]=(0,v.useState)(""),[m,p]=(0,v.useState)(""),[u,h]=(0,v.useState)(""),[f,x]=(0,v.useState)(""),[b,$]=(0,v.useState)(new Array),[w,S]=(0,v.useState)(new Map);return(0,n.jsxs)("div",{id:"image-color-container",children:[(0,n.jsx)(a.Z,{children:(0,n.jsx)(i.ZP,{onClick:()=>{x(""),$([]),c(e()+""),g(""),p(""),h("")},style:{backgroundColor:"#dc3545",color:"#fff"},children:"清除"})}),(0,n.jsx)(l.Z,{dashed:!0}),""===f&&0==t?(0,n.jsx)(G,{readOnly:!0,style:{margin:"5px 0 5px 0"},onChange:e=>{x(e.target.value)},value:f,placeholder:"拖拽要提取主体色的图片文件到框内",autoSize:{minRows:8,maxRows:8},onDragOver:e=>{e.preventDefault()},onDrop:t=>{t.preventDefault();const n=t.dataTransfer.files;if(0===n.length)return;const r=new FileReader;r.onerror=e=>{console.log(e)},r.onload=()=>{x(r.result);const t=document.getElementById("canvas-img"),n=t.getContext("2d");let a=new Image;a.src=r.result,a.onload=()=>{o(!0),h(a.height+""),p(a.width+"");let r=e();a.width>r?(c(r+""),g(a.height*r/a.width+"")):(c(a.width+""),g("")),t.width=a.width,t.height=a.height,n.drawImage(a,0,0,a.width,a.height);let i=n.getImageData(0,0,a.width,a.width).data;const l=(0,A.genColorMap)(i);S(l);const s=(0,A.getTopArray)(l,10);console.log(s),$(s),setTimeout((()=>{o(!1)}),5e3)}},r.readAsDataURL(n[0])}}):null,t?(0,n.jsx)(s.Z,{tip:"Loading...",children:(0,n.jsx)(D,{message:"主题色提取中",description:"提取计算需要时间",type:"info"})}):null,""!==f?(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:f,width:r,height:d})}):null,b.length>0&&0==t?(0,n.jsx)(P.default,{colorList:b,colorMap:w}):null,(0,n.jsx)("canvas",{id:"canvas-img",style:{}})]})}},47696:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var n=o(85893),r=o(60589);const a=({colorList:e,colorMap:t})=>(0,n.jsx)("div",{className:"levitation-box",children:(0,n.jsx)("div",{className:"levitation-box-content",children:(0,n.jsx)("ul",{children:e.map(((e,t)=>(0,n.jsx)("li",{style:{backgroundColor:(0,r.rgb2Hex)(e.toString())},title:(0,r.rgb2Hex)(e.toString()),children:(0,r.rgb2Hex)(e.toString())},e.toString()+t)))})})})},60589:(e,t,o)=>{o.r(t),o.d(t,{genColorMap:()=>r,getTopArray:()=>a,rgb2Hex:()=>i});var n=o(12085);const r=e=>{let t=0,o=new Map;for(;t<e.length;){let n=e[t],r=e[t+1],a=e[t+2];e[t+3];t+=4;let i=`${n},${r},${a}`,l=o.get(i);l?o.set(i,l+1):o.set(i,1)}return console.log(Array.from(o.keys()).length),o},a=(e,t)=>{let o=Array.from(e.values()).sort(((e,t)=>t-e)),n=0;o.length<t&&(t=o.length),n=o[t-1];let r=[];return e.forEach(((e,t)=>{e>=n&&r.push(t)})),r},i=e=>{const t=e.split(",");return"#"+n.rgb.hex(parseInt(t[0]),parseInt(t[1]),parseInt(t[2]))}}}]);
//# sourceMappingURL=1468.renderer.js.map