{"version":3,"file":"644.renderer.js","mappings":"mKAEA,QADwB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,wRAA4R,KAAQ,eAAgB,MAAS,U,eCKxd,EAAoB,SAA2BA,EAAOC,GACxD,OAAoB,gBAAoBC,EAAA,GAAU,QAAc,OAAc,CAAC,EAAGF,GAAQ,CAAC,EAAG,CAC5FC,IAAKA,EACLE,KAAM,IAEV,EAIA,QAA4B,aAAiB,E,4DCb7C,QADoB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,+TAAmU,KAAQ,QAAS,MAAS,Y,eCKpf,EAAgB,SAAuBH,EAAOC,GAChD,OAAoB,gBAAoBC,EAAA,GAAU,QAAc,OAAc,CAAC,EAAGF,GAAQ,CAAC,EAAG,CAC5FC,IAAKA,EACLE,KAAM,IAEV,EAIA,QAA4B,aAAiB,E,4DCb7C,QAD8B,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,uOAA2O,KAAQ,qBAAsB,MAAS,U,eCKnb,EAA0B,SAAiCH,EAAOC,GACpE,OAAoB,gBAAoBC,EAAA,GAAU,QAAc,OAAc,CAAC,EAAGF,GAAQ,CAAC,EAAG,CAC5FC,IAAKA,EACLE,KAAM,IAEV,EAIA,QAA4B,aAAiB,E,4DCb7C,QADqB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,ugBAA2gB,KAAQ,SAAU,MAAS,Y,eCK9rB,EAAiB,SAAwBH,EAAOC,GAClD,OAAoB,gBAAoBC,EAAA,GAAU,QAAc,OAAc,CAAC,EAAGF,GAAQ,CAAC,EAAG,CAC5FC,IAAKA,EACLE,KAAM,IAEV,EAIA,QAA4B,aAAiB,E,kECbtC,SAASC,EAAoBC,EAAWC,EAAQC,GACrD,OAAO,IAAW,CAChB,CAAC,GAAGF,oBAAwC,YAAXC,EACjC,CAAC,GAAGD,oBAAwC,YAAXC,EACjC,CAAC,GAAGD,kBAAsC,UAAXC,EAC/B,CAAC,GAAGD,uBAA2C,eAAXC,EACpC,CAAC,GAAGD,kBAA2BE,GAEnC,CACO,MAAMC,EAAkB,CAACC,EAAeC,IAAiBA,GAAgBD,C,kFCVzE,MAAME,EAAW,CACtB,CAAEC,MAAO,WAAYC,MAAO,QAASC,YAAa,iBAClD,CAAEF,MAAO,WAAYC,MAAO,QAAUC,YAAa,gDACnD,CAAEF,MAAO,UAAWC,MAAO,OAAQC,YAAa,0BAEhD,CAAEF,MAAO,OAAQC,MAAO,QAASC,YAAa,4BAGnCC,EAAgC,CAC3C,MAAS,GACT,MAAS,GACT,KAAQ,GACR,KAAQ,GACR,MAAS,IAYEC,EAAW,CACtB,CAAEJ,MAAQ,OAAQK,IAAI,wDACtB,CAAEL,MAAQ,OAAQK,IAAI,qCACtB,CAAEL,MAAQ,OAAQK,IAAI,gC,yNC7BxB,MAAMC,EAAe,2BAGd,SAASC,IACZ,MAAMC,EAAOC,aAAaC,QAAQJ,GAElC,OAAiB,OAATE,EAAgB,QAAUA,CACtC,CAGO,SAASG,EAAeH,GAC3BC,aAAaG,QAAQN,EAAaE,EACtC,CAQO,MAAMK,EAAiBC,GACrB,GAAGA,EAAMC,OAAOD,EAAME,MAIlBC,EAA2BH,GAC/B,GAAGA,EAAME,OAAOF,EAAMC,MAIzBG,EAAK,kBACEC,EAAeC,IAC1B,IAAIC,EAAa,CAAEN,IAAK,EAAGC,IAAK,GAC5BM,EAAIF,EAAYL,IAAM,MACtBQ,EAAIH,EAAYJ,IAAM,KACtBQ,EAAIC,KAAKC,KAAKJ,EAAEA,EAAEC,EAAEA,GAAI,KAAUE,KAAKE,IAAIJ,EAAIL,GAC/CU,EAAQH,KAAKI,MAAMN,EAAGD,GAAK,KAAWG,KAAKK,IAAIR,EAAIJ,GAGvD,OAFAG,EAAWN,IAAMS,EAAIC,KAAKK,IAAIF,GAC9BP,EAAWL,IAAMQ,EAAIC,KAAKE,IAAIC,GACvBP,CAAU,EAINU,EAAeV,IAC1B,IAAID,EAAY,CAAEL,IAAK,EAAEC,IAAK,GAC1BM,EAAID,EAAWN,IACfQ,EAAIF,EAAWL,IACfQ,EAAIC,KAAKC,KAAKJ,EAAIA,EAAIC,EAAIA,GAAK,KAAUE,KAAKE,IAAIJ,EAAIL,GACtDU,EAAQH,KAAKI,MAAMN,EAAGD,GAAK,KAAWG,KAAKK,IAAIR,EAAIJ,GAGvD,OAFAE,EAAYL,IAAMS,EAAIC,KAAKK,IAAIF,GAAS,MACxCR,EAAYJ,IAAMQ,EAAIC,KAAKE,IAAIC,GAAS,KACjCR,CAAW,EAGdY,EAAK,kBACLC,EAAI,QACJC,EAAK,oBAGEC,EAAa,CAACpB,EAAaC,KAC7BD,EAAM,QAAUA,EAAM,YAAcC,EAAM,OAAUA,EAAM,SAG/DoB,EAAe,CAACd,EAAUC,KAC9B,IAAIc,EAAe,EAAMf,EAAd,IAAkB,EAAMC,EAAI,GAAMA,EAAIA,EAAI,GAAMD,EAAIC,EAAI,GAAME,KAAKC,KAAKD,KAAKa,IAAIhB,IAI5F,OAHAe,GAAyE,GAAjE,GAAOZ,KAAKE,IAAI,EAAML,EAAIU,GAAM,GAAOP,KAAKE,IAAI,EAAML,EAAIU,IAAa,EAC/EK,GAAmE,GAA3D,GAAOZ,KAAKE,IAAIJ,EAAIS,GAAM,GAAOP,KAAKE,IAAIJ,EAAI,EAAMS,IAAa,EACzEK,GAA2E,GAAnE,IAAQZ,KAAKE,IAAIJ,EAAI,GAAOS,GAAM,IAAMP,KAAKE,IAAIJ,EAAIS,EAAK,KAAe,EAC1EK,CAAG,EAGNE,EAAe,CAACjB,EAAUC,KAC9B,IAAIc,EAAM,IAAQf,EAAI,EAAMC,EAAI,GAAMD,EAAIA,EAAI,GAAMA,EAAIC,EAAI,GAAME,KAAKC,KAAKD,KAAKa,IAAIhB,IAIrF,OAHAe,GAAyE,GAAjE,GAAOZ,KAAKE,IAAI,EAAML,EAAIU,GAAM,GAAOP,KAAKE,IAAI,EAAML,EAAIU,IAAa,EAC/EK,GAAmE,GAA3D,GAAOZ,KAAKE,IAAIL,EAAIU,GAAM,GAAOP,KAAKE,IAAIL,EAAI,EAAMU,IAAa,EACzEK,GAA6E,GAArE,IAAQZ,KAAKE,IAAIL,EAAI,GAAOU,GAAM,IAAQP,KAAKE,IAAIL,EAAI,GAAOU,IAAa,EAC5EK,CAAG,EAICG,EAAgBC,IAC3B,IAAIpB,EAAW,CAAEN,IAAK,EAAGC,IAAK,GAC9B,GAAImB,EAAWM,EAAY1B,IAAK0B,EAAYzB,KAC1C,OAAOyB,EAET,IAAInB,EAAImB,EAAY1B,IAAM,IACtBQ,EAAIkB,EAAYzB,IAAM,GACtB0B,EAAON,EAAad,EAAEC,GACtBoB,EAAOJ,EAAajB,EAAEC,GACtBqB,EAASH,EAAYzB,IAAM,IAAQgB,EACnCa,EAAQpB,KAAKE,IAAIiB,GACrBC,EAAQ,EAAIX,EAAKW,EAAQA,EACzB,IAAIC,EAAYrB,KAAKC,KAAKmB,GAK1B,OAJAH,EAAe,IAAPA,GAAkBT,GAAK,EAAIC,IAAQW,EAAQC,GAAad,GAChEW,EAAe,IAAPA,GAAiBV,EAAIa,EAAYrB,KAAKK,IAAIc,GAAUZ,GAC5DX,EAAWL,IAAMyB,EAAYzB,IAAM0B,EACnCrB,EAAWN,IAAM0B,EAAY1B,IAAM4B,EAC5BtB,CAAU,EAIN0B,EAAgB1B,IAC3B,IAAIC,EAAID,EAAWN,IAAM,IACrBQ,EAAIF,EAAWL,IAAM,GACrB0B,EAAON,EAAad,EAAGC,GACvBoB,EAAOJ,EAAajB,EAAGC,GACvBqB,EAASvB,EAAWL,IAAM,IAAQgB,EAClCa,EAAQpB,KAAKE,IAAIiB,GACrBC,EAAQ,EAAIX,EAAKW,EAAQA,EACzB,IAAIC,EAAYrB,KAAKC,KAAKmB,GAI1B,OAHAH,EAAe,IAAPA,GAAkBT,GAAK,EAAIC,IAAQW,EAAQC,GAAad,GAChEW,EAAe,IAAPA,GAAiBV,EAAIa,EAAYrB,KAAKK,IAAIc,GAAUZ,GAErD,CACL,IAAOX,EAAWL,IAAM0B,EACxB,IAAOrB,EAAWN,IAAM4B,EACzB,C,iIC/GH,MA2BA,EA3B0B,KACxB,MAAQnC,EAAMwC,IAAY,IAAAC,WAAS,IAAA1C,mBAWnC,OACE,iCACE,SAAC,IAAO,CAAC2C,YAAY,OAAOC,OAAK,wBACjC,SAAC,SAAS,CAACnD,MAAM,SAAQ,UACvB,SAAC,IAAM,CACLC,MAAQO,EACR4C,MAAO,CAAEC,MAAO,KAChBC,SAAYrD,IAAoB+C,EAAQ/C,IAAQ,IAAAU,gBAAeV,EAAM,EACrEsD,QAAU,EAAAxD,eAIjB,C","sources":["webpack://magic-tools/./node_modules/@ant-design/icons-svg/es/asn/CheckCircleFilled.js","webpack://magic-tools/./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js","webpack://magic-tools/./node_modules/@ant-design/icons-svg/es/asn/CloseOutlined.js","webpack://magic-tools/./node_modules/@ant-design/icons/es/icons/CloseOutlined.js","webpack://magic-tools/./node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleFilled.js","webpack://magic-tools/./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js","webpack://magic-tools/./node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js","webpack://magic-tools/./node_modules/@ant-design/icons/es/icons/SearchOutlined.js","webpack://magic-tools/./node_modules/antd/es/_util/statusUtils.js","webpack://magic-tools/./src/renderer/App/GPSConvert/data.ts","webpack://magic-tools/./src/renderer/App/GPSConvert/lib.ts","webpack://magic-tools/./src/renderer/App/GPSConvert/setting.tsx"],"sourcesContent":["// This icon file is generated automatically.\nvar CheckCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\" } }] }, \"name\": \"check-circle\", \"theme\": \"filled\" };\nexport default CheckCircleFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckCircleFilledSvg from \"@ant-design/icons-svg/es/asn/CheckCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar CheckCircleFilled = function CheckCircleFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CheckCircleFilledSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  CheckCircleFilled.displayName = 'CheckCircleFilled';\n}\nexport default /*#__PURE__*/React.forwardRef(CheckCircleFilled);","// This icon file is generated automatically.\nvar CloseOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z\" } }] }, \"name\": \"close\", \"theme\": \"outlined\" };\nexport default CloseOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CloseOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloseOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar CloseOutlined = function CloseOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CloseOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  CloseOutlined.displayName = 'CloseOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(CloseOutlined);","// This icon file is generated automatically.\nvar ExclamationCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"filled\" };\nexport default ExclamationCircleFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ExclamationCircleFilledSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar ExclamationCircleFilled = function ExclamationCircleFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ExclamationCircleFilledSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  ExclamationCircleFilled.displayName = 'ExclamationCircleFilled';\n}\nexport default /*#__PURE__*/React.forwardRef(ExclamationCircleFilled);","// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  SearchOutlined.displayName = 'SearchOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(SearchOutlined);","import classNames from 'classnames';\nconst InputStatuses = ['warning', 'error', ''];\nexport function getStatusClassNames(prefixCls, status, hasFeedback) {\n  return classNames({\n    [`${prefixCls}-status-success`]: status === 'success',\n    [`${prefixCls}-status-warning`]: status === 'warning',\n    [`${prefixCls}-status-error`]: status === 'error',\n    [`${prefixCls}-status-validating`]: status === 'validating',\n    [`${prefixCls}-has-feedback`]: hasFeedback\n  });\n}\nexport const getMergedStatus = (contextStatus, customStatus) => customStatus || contextStatus;","// 类型列表\r\nexport const typeList = [\r\n  { label: 'WGS84坐标系', value: 'WGS84', placeholder: '地球坐标系,国际通用坐标系' },\r\n  { label: 'GCJ02坐标系', value: 'GCJ02',  placeholder: '火星坐标系,WGS84 坐标系加密后的坐标系；Google国内地图、高德、QQ地图 使用' },\r\n  { label: 'BD09坐标系', value: 'BD09', placeholder: '百度坐标系，GCJ02 坐标系加密后的坐标系' },\r\n  //{ label: 'CGCS坐标系', value: 'CGCS', placeholder: '国家 2000 大地坐标系' },\r\n  { label: '腾讯地图', value: 'TXMAP', placeholder: '火星坐标系,WGS84展示 纬度在前，经度在后' },\r\n];\r\n\r\nexport const emptyResult :GPSConvertResult = {\r\n  \"WGS84\": \"\",\r\n  \"GCJ02\": \"\",\r\n  \"BD09\": \"\",\r\n  \"CGCS\": \"\",\r\n  \"TXMAP\": \"\",\r\n};\r\n\r\nexport type GPSConvertResult = {\r\n  \"WGS84\": string,\r\n  \"GCJ02\": string,\r\n  \"BD09\": string,\r\n  \"CGCS\": string,\r\n  \"TXMAP\": string,\r\n}\r\n\r\n// 提供的地图坐标拾取服务\r\nexport const pickList = [\r\n  { label : \"百度地图\", url:\"https://api.map.baidu.com/lbsapi/getpoint/index.html\" },\r\n  { label : \"高德地图\", url:\"https://lbs.amap.com/tools/picker\" },\r\n  { label : \"腾讯地图\", url:\"https://lbs.qq.com/getPoint/\" },\r\n];\r\n","const DEFAULT_TYPE = 'gps-convert:default-type';\r\n\r\n// 获取默认显示的 App\r\nexport function getDefaultType() :string  {\r\n    const type = localStorage.getItem(DEFAULT_TYPE);\r\n    // 如果没有设置默认展示的应用，默认显示应用中心\r\n    return (type === null)? \"GCJ02\" : type;\r\n}\r\n\r\n// 设置默认显示的应用\r\nexport function setDefaultType(type: string) : void  {\r\n    localStorage.setItem(DEFAULT_TYPE,type);\r\n}\r\n\r\n\r\nexport type GPSPoint = {\r\n  lng :number,\r\n  lat :number\r\n};\r\n\r\nexport const pointToString = (point :GPSPoint):string => {\r\n  return `${point.lng},${point.lat}`;\r\n}\r\n\r\n// 腾讯地图 维度在前\r\nexport const tencentMapPointToString = (point :GPSPoint):string => {\r\n  return `${point.lat},${point.lng}`;\r\n}\r\n\r\n// 百度坐标 转 火星坐标\r\nconst x_pi=3.14159265358979324 * 3000.0 / 180.0;\r\nexport const bd09Togcj02 = (baidu_point :GPSPoint) :GPSPoint => {\r\n  let mars_point = { lng: 0, lat: 0 };\r\n  let x = baidu_point.lng - 0.0065;\r\n  let y = baidu_point.lat - 0.006;\r\n  let z = Math.sqrt(x*x+y*y)- 0.00002 * Math.sin(y * x_pi);\r\n  let theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_pi);\r\n  mars_point.lng = z * Math.cos(theta);\r\n  mars_point.lat = z * Math.sin(theta);\r\n  return mars_point;\r\n}\r\n\r\n// 火星坐标 转 百度坐标\r\nexport const gcj02Tobd09 = (mars_point :GPSPoint) :GPSPoint =>  {\r\n  let baidu_point={ lng: 0,lat: 0 };\r\n  let x = mars_point.lng;\r\n  let y = mars_point.lat;\r\n  let z = Math.sqrt(x * x + y * y) + 0.00002 * Math.sin(y * x_pi);\r\n  let theta = Math.atan2(y, x) + 0.000003 * Math.cos(x * x_pi);\r\n  baidu_point.lng = z * Math.cos(theta) + 0.0065;\r\n  baidu_point.lat = z * Math.sin(theta) + 0.006;\r\n  return baidu_point;\r\n}\r\n\r\nconst pi = 3.14159265358979324;\r\nconst a = 6378245.0; // 卫星椭球坐标投影到平面地图坐标系的投影因子\r\nconst ee = 0.00669342162296594323; // 椭球的偏心率\r\n\r\n// 判断是否在国内，不在国内则不做偏移\r\nexport const outOfChina = (lng :number, lat :number) :boolean => {\r\n  return ((lng < 72.004 || lng > 137.8347) && (lat < 0.8293 || lat > 55.8271));\r\n}\r\n\r\nconst transformLat = (x :number,y :number) :number => {\r\n  let ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x));\r\n  ret += (20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0 / 3.0;\r\n  ret += (20.0 * Math.sin(y * pi) + 40.0 * Math.sin(y / 3.0 * pi)) * 2.0 / 3.0;\r\n  ret += (160.0 * Math.sin(y / 12.0 * pi) + 320 * Math.sin(y * pi / 30.0)) * 2.0 / 3.0;\r\n  return ret;\r\n}\r\n\r\nconst transformLng = (x :number,y :number) :number => {\r\n  let ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x));\r\n  ret += (20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0 / 3.0;\r\n  ret += (20.0 * Math.sin(x * pi) + 40.0 * Math.sin(x / 3.0 * pi)) * 2.0 / 3.0;\r\n  ret += (150.0 * Math.sin(x / 12.0 * pi) + 300.0 * Math.sin(x / 30.0 * pi)) * 2.0 / 3.0;\r\n  return ret;\r\n}\r\n\r\n// WGS84 转 火星坐标\r\nexport const wgs84Togcj02 = (wgs84_point :GPSPoint) :GPSPoint => {\r\n  var mars_point={ lng: 0, lat: 0};\r\n  if (outOfChina(wgs84_point.lng, wgs84_point.lat)) {\r\n    return wgs84_point;\r\n  }\r\n  let x = wgs84_point.lng - 105.0;\r\n  let y = wgs84_point.lat - 35.0\r\n  let dLat = transformLat(x,y);\r\n  let dLng = transformLng(x,y);\r\n  let radLat = wgs84_point.lat / 180.0 * pi;\r\n  let magic = Math.sin(radLat);\r\n  magic = 1 - ee * magic * magic;\r\n  let sqrtMagic = Math.sqrt(magic);\r\n  dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi);\r\n  dLng = (dLng * 180.0) / (a / sqrtMagic * Math.cos(radLat) * pi);\r\n  mars_point.lat = wgs84_point.lat + dLat;\r\n  mars_point.lng = wgs84_point.lng + dLng;\r\n  return mars_point\r\n}\r\n\r\n// 火星坐标 转 WGS84\r\nexport const gcj02Towgs84 = (mars_point :GPSPoint) :GPSPoint => {\r\n  let x = mars_point.lng - 105.0;\r\n  let y = mars_point.lat - 35.0\r\n  let dLat = transformLat(x, y)\r\n  let dLng = transformLng(x, y)\r\n  let radLat = mars_point.lat / 180.0 * pi\r\n  let magic = Math.sin(radLat)\r\n  magic = 1 - ee * magic * magic\r\n  let sqrtMagic = Math.sqrt(magic)\r\n  dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi)\r\n  dLng = (dLng * 180.0) / (a / sqrtMagic * Math.cos(radLat) * pi)\r\n\r\n  return {\r\n    'lat': mars_point.lat - dLat,\r\n    'lng': mars_point.lng - dLng\r\n  }\r\n}\r\n","import { Select, Form, Divider } from \"antd\";\r\nimport { getDefaultType, setDefaultType } from \"./lib\";\r\nimport { useState } from \"react\";\r\nimport { typeList } from \"./data\";\r\n\r\nconst GPSConvertSetting = () => {\r\n  const [ type, setType ] = useState(getDefaultType()); // 默认坐标类型\r\n\r\n  // // 应用列表\r\n  // const getAppList = () => {\r\n  //   const result = [{ value: 'AppStore', label: '应用中心' }];\r\n  //   appList.forEach((v) => {\r\n  //     result.push({ value: v.key, label:  v.label });\r\n  //   });\r\n  //   return result;\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <Divider orientation=\"left\" plain>GPS坐标转换</Divider>\r\n      <Form.Item label=\"默认坐标类型\">\r\n        <Select\r\n          value={ type }\r\n          style={{ width: 240 }}\r\n          onChange={ (value: string) => { setType(value); setDefaultType(value); } }\r\n          options={ typeList }\r\n        />\r\n      </Form.Item>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GPSConvertSetting;"],"names":["props","ref","AntdIcon","icon","getStatusClassNames","prefixCls","status","hasFeedback","getMergedStatus","contextStatus","customStatus","typeList","label","value","placeholder","emptyResult","pickList","url","DEFAULT_TYPE","getDefaultType","type","localStorage","getItem","setDefaultType","setItem","pointToString","point","lng","lat","tencentMapPointToString","x_pi","bd09Togcj02","baidu_point","mars_point","x","y","z","Math","sqrt","sin","theta","atan2","cos","gcj02Tobd09","pi","a","ee","outOfChina","transformLat","ret","abs","transformLng","wgs84Togcj02","wgs84_point","dLat","dLng","radLat","magic","sqrtMagic","gcj02Towgs84","setType","useState","orientation","plain","style","width","onChange","options"],"sourceRoot":""}